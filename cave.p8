pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
--main

node = {
	x = 0,
	y = 0,
	sp = 68,
	new = function(self,x,y)
		local obj = {x=x,y=y}
		return setmetatable(obj, {__index=self})
	end,
	
	draw = function(self)
		spr(self.sp, self.x, self.y)
	end,

}

nodes = {}

silt_timer = 0
silt_max = 80
silt_sz_up = 3

--base functions

function _init()
	pl.init(pl)
	pl.pos.x = 20
	test = vec2:new(2,2)
	
	init_menu()
	
	--b=c[0]
	--decomp(-5,-5,132,132,ti,0)
end

function init_menu()
	--functions are in tab 5
	_update = update_title
	_draw = draw_title
end

function init_game()
	--functions are in tab 6
	_update = update_game
	_draw = draw_game
end

-->8
--player & physics
pl=setmetatable({
	init=function(_ENV)
		pos=vec2:new(0,0)
		node_ct=20
		vel=vec2:new(0,0)
		acc=0.05
		max_vel=1.5
		fric=-0.02
		dir=vec2:new(1,0)
		turn_sp=0.1
		bump_sp=0.7
		bump_lcout=0.1--secs
		ui_st=false
		oxy=100--secs
		oxy_max=100
		bat=100--secs
		bat_max=100
	end,
	move=function(_ENV,lcout)
	
		if not lcout then
			if btn(â¬†ï¸) then 
				add_acc(vel,vec2:new(0,-acc))
				add_acc(dir,vec2:new(0,-turn_sp))
			end
			if btn(â¬‡ï¸) then
			 add_acc(vel,vec2:new(0,acc)) 
				add_acc(dir,vec2:new(0,turn_sp))
			end
			if btn(â¬…ï¸) then
			 add_acc(vel,vec2:new(-acc,0)) 
			 add_acc(dir,vec2:new(-turn_sp,0))
			end
			if btn(âž¡ï¸) then
			 add_acc(vel,vec2:new(acc,0))
			 add_acc(dir,vec2:new(turn_sp,0))
			end
		end
		dir=dir:norm()
		
		if btnp(âŽ) and btnp(ðŸ…¾ï¸) then
		 drop_node(pos) 
		else
			if btnp(ðŸ…¾ï¸) then
				ui_st = not ui_st
			end
		end
		
		--friction
		local n = vel:norm()
	 if n.x==0 and n.y==0 then
	 	vel.x=0
	 	vel.y=0
	 else
	 	add_acc(vel,n*fric)
	 end
		
		--limit vel
		if vel:mag()>max_vel then
		 vel=vel:norm()*max_vel
		end
		
		--change pos
		add_acc(pos,vel)
	end,
	
	draw=function(_ENV)
		spr_r(0,4,flr(pos.x),flr(pos.y),2,2,8,8,dir:ang(),0)
	end,

},{__index=_ENV})

--ui
ui_pos = {x=-21,y=64}
function draw_ui()
	spr(98,pl.pos.x-16, pl.pos.y-60)
	spr(97,pl.pos.x-16, pl.pos.y-60,1,1-(pl.oxy/pl.oxy_max))
	
	spr(100,pl.pos.x+8, pl.pos.y-60)
	spr(99,pl.pos.x+8, pl.pos.y-60,1,1-(pl.bat/pl.bat_max))
	
	
end

--physics functions (framerate dependent)
vec2={
	x=0,
	y=0,
	new=function(self,x,y)
		local obj = {x=x,y=y}
		local mtbl = {
			__index=self,
			__mul=function(v1,c)
				return vec2:new(v1.x*c,v1.y*c)
			end,
			__sub=function(v1,v2)
				return vec2:new(v1.x-v2.x,v1.y-v2.y)
			end,
			__add=function(v1,v2)
				return vec2:new(v1.x+v2.x,v1.y+v2.y)
			end
		}
		return setmetatable(obj, mtbl)
	end,
	
	mag=function(self)
		return sqrt((self.x*self.x)+(self.y*self.y))
	end,
	
	norm=function(self)
		if self:mag()<0.005 then return vec2:new(0,0) end
		return vec2:new(self.x/self:mag(),self.y/self:mag())
	end,
	
	ang=function(self)
		return atan2(self.x,self.y)
	end,
	
	dot=function(_ENV, v2)
		return x*v2.x+y*v2.y
	end,
	
	floored=function(self)
		return vec2:new(flr(self.x),flr(self.y))
	end
}

function add_acc(v,a)
	v.x+=a.x
	v.y+=a.y
end

function add_line(p1,p2,per)
	local fp1=p1:floored()
	local fp2=p2:floored()
	local m=(fp2.y-fp1.y)/(fp2.x-fp1.x)
	
	local x=fp1.x
	local d = flr((fp2.x-fp1.x)/abs(fp1.x-fp2.x))
	
	while x!=fp2.x do
		add_pt(x,flr(m*(x-fp1.x)+fp1.y),per)
		x+=d
	end
end

function add_pt(x,y,pts)
	if pts[x]==nil then
			pts[x]=setmetatable({},{
			__index=function()
				return false
			end
			})
		end
		--pset(x,y,7)
		pts[x][y]=true
end

function ref(d,n)
	local nm = n:mag()
	return d-n*((d:dot(n)*2)/(nm*nm))
end
-->8
--comp vars
--title screen (assume black)
ti="1256-8x14-115-8x22-108-8x28-103-8x32-99-8x36-95-8x40-91-8x44-88-8x46-86-8x48-83-8x52-80-8x54-78-8x56-76-8x58-74-8x60-73-8x60-72-8x62-70-8x64-68-8x66-67-8x66-66-8x68-65-8x68-64-8x70-63-8x70-62-8x72-61-8x72-60-8x74-59-8x74-59-8x74-58-8x76-57-8x76-57-8x76-57-8x76-56-8x78-55-8x78-55-8x78-55-8x78-55-8x78-55-8x78-55-8x78-55-8x78-55-8x78-55-8x78-55-8x78-55-8x78-56-8x76-57-8x76-57-8x76-57-8x76-58-8x74-59-8x74-59-8x74-60-8x31-2x10-8x31-61-8x29-2x14-8x29-62-8x26-2x5-1x8-2x5-8x26-63-8x24-2x5-1x12-2x5-8x24-64-8x21-2x5-1x16-2x5-8x21-65-8x20-2x4-1x20-2x4-8x20-66-8x18-2x4-1x22-2x4-8x18-67-8x18-2x3-1x10-4-1x10-2x3-8x18-68-8x17-2x2-1x10-6-1x10-2x2-8x17-70-8x15-2x3-1x2-3-1x5-6-1x5-3-1x2-2x3-8x15-72-8x14-2x3-1x1-5-1x3-8-1x3-5-1x1-2x3-8x14-73-8x14-2x3-1x1-5-1x3-8-1x3-5-1x1-2x3-8x14-74-8x10-2x6-1x1-5-1x3-8-1x3-5-1x1-2x6-8x10-76-8x7-2x8-1x2-3-1x4-5-1x2-1-1x4-3-1x2-2x8-8x7-78-8x5-2x4-1x3-2x3-1x8-8-1x8-2x3-1x3-2x4-8x5-80-8x4-2x3-1x7-2x2-1x6-8-1x6-2x2-1x7-2x3-8x4-83-8x2-2x2-1x10-2x2-1x4-8-1x4-2x2-1x10-2x2-8x2-86-8x1-2x2-1x16-8-1x16-2x2-8x1-44-2x46-1x40-2x47-44-2x1-1x42-2x1-8x10-71-8x7-1-2x1-1x42-2x1-8x6-77-8x6-1-1x42-1-8x2-86-8x1-3-1x38-3-8x1-86-8x2-5-1x34-5-8x2-85-8x2-10-1x24-84-8x4-28-1x10-57-1x5-42-8x2-44-8x2-83-8x4-44-8x4-50-1x9-2-1x4-15-8x5-44-8x5-2-1x16-57-8x9-121-8x12-121-8x6-59-8x4-69-1x7-44-8x1-132-8x1-132-8x8-59-8x3-11-8x8-46-8x8-2-1x3-49-8x9-7-8x9-44-8x10-53-8x8-15-8x3-44-8x13-73-8x4-42-8x7-73-1x6-8x7-38-8x19-4-8x3-11-1x8-7-1x5-25-8x5-5-8x6-32-8x2-4-8x14-58-8x20-35-8x18-59-8x24-32-8x15-65-8x22-30-8x14-73-8x16-30-8x9-12-8x6-50-8x15-4-8x7-50-8x8-56-8x20-51-8x3-59-8x21-26-8x10-15-1x3-1-1x14-24-1x7-12-8x23-22-8x23-67-8x23-18-8x26-72-8x19-14-8x32-78-8x11-10-8x37-89-8x10-20-8x16-39-8x7-38-8x7-12-8x21-69-8x9-7-8x3-110-8x59-21-1x4-46-8x70-60-8x28-6-8x14-9-8x18-54-8x33-3-8x16-14-8x8-58-8x19-8-8x22-35-8x8-19-1x6-27-8x6-8-8x16-41-8x6-10-1x10-32-8x70-16-8x2-45-8x74-53-8x4-10-8x71-66-8x70-1x2-78-8x50-38-1x10-41-8x22-3-8x22-51-8x12-20-8x15-7-8x20-59-8x68-67-8x53-85-8x66-74-8x37-101-8x35"

--ui assume blank

-->8
--helper functions
function drop_node(v)
	if pl.node_ct>0 then
		pl.node_ct-=1
		
		add(nodes, node.new(node,v.x,v.y))
	else
		return
	end
end

function pl_map_coll()
	for i=0,1,0.02 do
		local x = ceil(pl.pos.x) + cos(i) * 2.5
		local y = ceil(pl.pos.y) + sin(i) * 2.5	
		obj_coll(x,y)
		local c = map_coll(x,y)
		if c[1] then
			return c
		end
	end
	return {false}
end
function map_coll(x,y)
	local id = mget(flr_div(x), flr_div(y))
	--[[2: top left; 3: top-right;
					4: btm-left; 5: btm-right
	--]]
	if fget(id, 0) then --solid
		
		if fget(id,1) then --corner
		
			if fget(id, 2) then 
				return {slope(x,y,8,0,1),vec2:new(-1,-1):norm()}
			elseif fget(id, 3) then
				return {slope(x,y,0,8,1),vec2:new(1,-1):norm()}
			elseif fget(id, 4) then
				return {slope(x,y,0,8,-1),vec2:new(-1,1):norm()}
			else
				return {slope(x,y,8,0,-1),vec2:new(1,1):norm()}
			end
		
		end
		
			if fget(id, 2) then 
				return {true,vec2:new(0,-1)}
			elseif fget(id, 3) then
				return {true,vec2:new(1,0)}
			elseif fget(id, 4) then
				return {true,vec2:new(0,1)}
			else
				return {true,vec2:new(-1,0)}
			end
	
	end
	return {false}
end


function slope(x,y,y1,y2,dir)
	--local c = b[0]
	local h = lerp(flr_div(y)*8+y1,flr_div(y)*8+y2,(x-(flr_div(x)*8))/8)
	if dir == 1 then 
		return h<y
	else
		return h>y
	end
end

bat_pickup_val = 25
oxy_pickup_val = 25
function obj_coll(x, y)
	local fl_x = flr_div(x)
	local fl_y = flr_div(y)
	local id = mget(fl_x, fl_y) 
	if id== 75 then --bat
			if pl.bat < pl.bat_max-bat_pickup_val then
				pl.bat+=bat_pickup_val
			else
				pl.bat = pl.bat_max
			end
			mset(fl_x, fl_y, 0)
			return
	end
		
	if id == 91 then --oxy
			if pl.oxy < pl.oxy_max-oxy_pickup_val then
				pl.oxy+=oxy_pickup_val
			else
				pl.oxy = pl.oxy_max
			end
			mset(fl_x, fl_y, 0)	
			return	
	end
end

--credit: sophie houlden
function flr_div(v)
	return flr(v/8)	
end

function lerp(a,b,t)
	return (1-t)*a+t*b
end


function decomp(sx,sy,w,h,s,d)--d is default -1 is pass
	local l = split(s,"-",false)
	
	local curr = 1
	local c=d
	local n=0
	
	for y=0, h do
		for x=0, w do
			--check for next num
			if n==0 then
				
				if curr == #l then
					return true
				end
				
				local tn=split(l[curr],"x")
				if #tn==1 then
					c=d
					n=tn[1]
				else
					c=tn[1]
					n=tn[2]
				end
				curr+=1
			end
			
			if c!=-1 then
				pset(sx+x,sy+y,c)
			end
			n-=1
		end
	end
	
end

function start_silt_time()
	if silt_timer == 0 then
		silt_timer = silt_max
		silt_sz_up = 3
	end
end

--credit to:huulong- modified
function spr_r(i, j, x, y, w, h, pivot_x, pivot_y, angle, transparent_color)
  -- precompute pixel values from tile indices: sprite source top-left, sprite size
  local sx = 8 * i
  local sy = 8 * j
  local sw = 8 * w
  local sh = 8 * h
  -- precompute angle trigonometry
  local flip_x,flip_y=false,false
  local sa = sin(angle) 
  local ca = cos(angle)
		
		if angle > 0.25 and angle < 0.75 then
			--ti[2]= 10
			flip_y = true
		end
		
  -- in the operations below, 0.5 offsets represent pixel "inside"
  -- we let pico-8 functions floor coordinates at the last moment for more symmetrical results

  -- precompute "target disc": where we must draw pixels of the rotated sprite (relative to (x, y))
  -- the target disc ratio is the distance between the pivot the farthest corner of the sprite rectangle
  local max_dx = max(pivot_x, sw - pivot_x) - 0.5 
  local max_dy = max(pivot_y, sh - pivot_y) - 0.5
  local max_sqr_dist = max_dx * max_dx + max_dy * max_dy
  local max_dist_minus_half = ceil(sqrt(max_sqr_dist)) - 0.5

  -- iterate over disc's bounding box, then check if pixel is really in disc
  for dx = - max_dist_minus_half, max_dist_minus_half do
    for dy = - max_dist_minus_half, max_dist_minus_half do
      if dx * dx + dy * dy <= max_sqr_dist then
        -- prepare flip factors
        local sign_x = flip_x and -1 or 1
        local sign_y = flip_y and -1 or 1

        -- if you don't use luamin (which has a bracket-related bug),
        -- you don't need those intermediate vars, you can just inline them if you want
        local rotated_dx = sign_x * ( ca * dx + sa * dy)
        local rotated_dy = sign_y * (-sa * dx + ca * dy)

        local xx = pivot_x + rotated_dx
        local yy = pivot_y + rotated_dy

        -- make sure to never draw pixels from the spritesheet
        --  that are outside the source sprite
        if xx >= 0 and xx < sw and yy >= 0 and yy < sh then
          -- get source pixel
          local c = sget(sx + xx, sy + yy)
          -- ignore if transparent color
          if c ~= transparent_color then
            -- set target pixel color to source pixel color
            pset(x + dx, y + dy, c)
          end
        end
      end
    end
  end
end
-->8
--flash
function blackout(on)
	
	local flpos=pl.pos:floored()
	local pts = {}
	
	local off=-4 -- backwards offset
	
	flpos=flpos+(pl.dir:norm()*off):floored()
	local r=0.1 -- width of flash
	local p=12 -- partitions
	local pld = pl.dir:ang()
	
	--get pts
	local t = flash(flpos.x, flpos.y,pld , 55, 4, r, p, pts)
	
	--set perimeter
	local per = {}
	
	local prev = flpos
	for pt in all(pts) do
		add_pt(pt.x,pt.y,per)
		add_line(prev,pt,per)
		prev=pt
	end
	add_line(prev,flpos,per)
	add_pt(flpos.x,flpos.y,per)
--	for x in pairs(per) do
--		for y in pairs(per) do
--			if per[x][y] then
--				--pset(x,y,11)
--			end
--		end
--	end

	
	--fill with polygon edge pass aglorythm
	for x=t.minx,t.maxx do
	local st=false
	local prev=false
		for y=t.miny,t.maxy do
			if prev!= (per[x]!=nil and per[x][y]) then
				st = not st
			end
			
			if not st then
				pset(x,y,0)
			end
		end
	end
	
	--fill remaining screen
	local tplf = flpos+vec2:new(-64+off,-64+off)
	local btrt = flpos+vec2:new(64-off,64-off)
	rectfill(tplf.x,tplf.y,btrt.x,t.miny)
	rectfill(tplf.x,tplf.y,t.minx,btrt.y)
	rectfill(btrt.x,btrt.y,tplf.x,t.maxy)
	rectfill(btrt.x,btrt.y,t.maxx,tplf.y)
end

calls = 0
function flash(sx,sy,a,l,pen,r,p,pts)
	calls = 0
	local i = -p/2
	
	local casts = 0
	local sd=0
	
	local t={
		minx=sx,
		maxx=sx,
		miny=sy,
		maxy=sy
	}
	while i<(p/2)-1 do
		local pt=raycast(sx,sy,sd,a+r*i/(p/2),l,pen,pts)
		add(pts,pt)
		if pt.x<t.minx then t.minx=pt.x end
		if pt.x>t.maxx then t.maxx=pt.x end
		if pt.y<t.miny then t.miny=pt.y end
		if pt.y>t.maxy then t.maxy=pt.y end
		--add(pts,res)
		--line(sx, sy, res.x, res.y, l)
		i+=1
	end
	
--	for pt in all(pts) do
--		pset(pt.x,pt.y,11)
--	end
	return t
end

--startx, starty,start dist, angle 0-1, length
function raycast(sx,sy,sd,a,l,pen,pts,forc)
	local d = 1 --change in length
	local c = d+flr(sd) -- curr length
	local c_pen = pen
	
	local cx,cy = 0,0
	while c < l do
		cx = flr(sx+cos(a)*c)
		cy = flr(sy+sin(a)*c)
		
		if map_coll(cx,cy)[1] then
			calls+=1
			if c_pen<=0 then
				return vec2:new(cx,cy)
			else
				c_pen-=1
			end
		end
		
		c+=d
	end
	return vec2:new(cx,cy)
end

-->8
--title draw & update

function draw_title() 
	cls()
	decomp(-5,-5,132,132,ti,0)
	print("good evening, \nthis is the title screen",7)
	print("could you please press âŽ?",7)
end

function update_title()
	if(btnp(âŽ)) then
		init_game()
	end
end
-->8
--gameplay draw & update

function draw_game()
	cls(0)
	
	camera(pl.pos.x-64,pl.pos.y-64)
----	map(0,0,-64,-64)
	map()
	pl:draw()
	--print(pl.pos.x..", "..pl.pos.y,pl.pos.x,pl.pos.y,10)
	--spr_r(0,4,pl.x,pl.y,2,2,false,false,8,8,0.1,0)
	-- collision shape debugging--
	--rect(pl.pos.x+4, pl.pos.y+4, pl.pos.x + 10, pl.pos.y+6, 8)
	--circ(pl.pos.x, pl.pos.y, 2.5, 8)
--	for i=0,1,0.01 do
--		local x = ceil(pl.pos.x) + cos(i) * 2.5
--		local y = ceil(pl.pos.y) + sin(i) * 2.5	
--		pset(x,y,8)
--	end
	-- raycast debug
	blackout(true)
	
	
	--draw nodes--
	foreach(nodes, node.draw)
	
--	while costatus(c) =="suspended" and costatus(c)~="dead" do 
	if silt_timer > 0 then
 --	fillp(0b0011010101101000.100)
		fillp(â˜‰)
		circfill(pl.pos.x, pl.pos.y, silt_sz_up, 1)
		fillp(0)
	end 
	draw_ui()
	print(stat(1)..", "..calls,pl.pos.x-10,pl.pos.y-10,10)
	
end


curr_lcout = 0
function update_game()
		
	local last_x=pl.pos.x
	local last_y=pl.pos.y
	pl:move(curr_lcout>0)
	
	if curr_lcout>0 then curr_lcout-=0.034 end
	
	
	local c = pl_map_coll()
	if c[1] then
		--[[ ideal: have some sort of 
							feedback that the player
							moving back to their 
							last position
			--]]
		--pl.pos.x = last_x 
		--pl.pos.y = last_y
		if curr_lcout<=0 then
			pl.vel = ref(pl.vel,c[2]):norm()*pl.bump_sp
			curr_lcout = pl.bump_lcout
		end
		--start_silt_time()
	end
	
	if silt_timer > 0 then
		silt_timer-=1
		silt_sz_up+=0.8
	else
		silt_timer = 0
	end
	
	--meters
	if pl.oxy > 0 then
		pl.oxy-=0.034
	else
		--should be game over, instead
		pl.oxy = 0
	end
	if pl.bat > 0 then
		pl.bat-=0.034
	else
		pl.bat = 0
	end
end
__gfx__
00000000000000022222222222222222222222222200000000808888008888000000888000000000000000000011110001000010000000000000000000000000
00000000000002222222211112222211222122222220000000800888000888000000088000000000000000000010100001100110001110000000000000000000
00700700000022211122111111111111121111122122200000800e8000088000000008800000000000e0000e0011110001111110011011000000000000000000
00077000000221111111112211112221111111111112220000e0008000088000000000800000e000000800e00011110000111100111111100000000000000000
000770000021112211111222111112211112221111112220000000e00000800000000080e0088000000880800001100000011000100100100000000000000000
0070070002221222122112211111121111222211122121200000000000008000000000e008080000008088000011110000011000010101000000000000000000
000000000221122112221111121111111112111122211122000000000000e0000000000008880000000080000001100000011000000100000000000000000000
00000000211111111111111111111111111111111111211200000000000000000000000008800000000080000111111000111100001110000000000000000000
00000000211111111112211111111111111111111111111200000000000000000000000000000222222222222000000000000000800000000000000000000000
00000000211122111222221111112211122111111111112200111000000000000000000000002000000200000000000088000000080000000000000000000000
00000000221122211222111111111221122111111111122200111000000111100111000000002111110211010020000000e000000e0000000000000000000000
00000000221112111111111111111111111111111111122201110000000111100111100000002111110210111020000080000000000000000000000000000000
000000002211111111111111111111111111111112211122011000000011111001111000022222222222222222222220080000008e0000000000000000000000
0000000022122111111122211221111111111221122111120110011000111100001111000000000200000002000000020e000000000000000000000000000000
00000000211221111112222112221111111111221122111200001110000000000001110001111102111100021111110200000000000000000000000000000000
00000000211111111111111111111111111111111111111200000000000000000000000021111102111110021111110200000000000000000000000000000000
00000000211111110000000011111111000000001111111200000000000000000000000022222222222222222222222222222222111112222211111100000000
00000000211212210000000011111111000000001121111201110000000000000011000020002000000200000020000200020000111112000211111100000000
00000000211112210000000011111111000000001122111201111000000000000111000021102111110211111021110011000111111112110211111100000000
00000000221111110000000011111111000000001122112201110000000000000100000001102111110210111021100011001111111112110211111100000000
00000000222111110000000011111111000000001111112200100110000000000000000002222200002200222222000222200222112222222222221100000000
00000000221122110000000011111111000000001221112200001110000001100000000020000002000000020000000200000002112000000000021100000000
00000000221222110000000011111111000000001221111200001100000011100000000021111102111001021111110210000002112111111111021100000000
00000000211111110000000011111111000000001111111200000000000000000000000021111102111111021111110211000002112111111111021100000000
00000000211111221111111111111111111111112211112200008800000000000000000000222222222220022222222222222222112222222222221100000000
00000000221111121111222112211111111112112212122000000800000000000000000000002000000200000002000000020000112000000000021100088880
00000000221112111111222112111221122111112111122000000e00000008880000000000002111110211111102000011021111112111111111021108888088
00000000022122111111122211111221112221111111220000000000000080880000000000000011110211111100000011021111112111111111021100000008
000000000022221111111121111111111122111111212200000000000000e0800000000000000022222222222200000022222222112222222222221100880880
00000000000222211111111111121111111111211222200000000000000008000000000000000002000000020000000000000002111112000002111108000000
0000000000000222112222111122111111122221222000000000000000000e000000008800000002111111020000000011111102111112111102111100088800
000000000000000222222222222222222222222220000000000000000000000000000e0000000000222222200000000011111102111112111102111100000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d66d0000000000000000000000000000000000
0000000000000000000000000000000000000000200000000000000000000000000000000000888888800000059999d000000000000000000000000000000000
000000000000000000000000000000000009900022000000200000200000000000200000008822222288000005aaaad000000000000000000000000000000000
00000000000000000000000000000000009a7900282202002202002202002002002202002882200000288000059999d000000000000000000000000000000000
00000000000221100000000000000000009aa90002822802822802822802802802822802e08200000002800005aaaad000000000000000000000000000000000
0000000000221dd00000022222000000000990000022882e0288288288288208288288282871788000002000059999d000000000000000000000000000000000
0000001111111dd00001122222110000000000000282828828828822882828e22828e028811110280000000005aaaad000000000000000000000000000000000
099901111122211000111111112111000000000020e8282882882882828882882882882887111000000000000555555000000000000000000000000000000000
00099111122222000011111111122100000000002882882828822820e8282282882282888111100000000000000a500000000000000000000000000000000000
00002222222200000011111111288200000000000282822802882882882e82882e02882827111788000000000001150000cc0000000000000000000000000000
999222200220000000212001102882000000000000222822e2282282282082282282282e0817122000000000001111500100c000000000000000000000000000
0099000022000000022220001000000000000000028222222222222222222222222222222288000000000000051c11000100c000000000000000000000000000
000000000000000002020000100000000000000028220220200220200200200220200202222880000080000000c1c10000110000000000000000000000000000
0000000000000000020200000000000000000000220002000002000000000002000000020022888888200000001c110000000cc0000000000000000000000000
000000000000000000000000000000000000000020000000000000000000000000000000000022222200000000111100000001c0000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001100000100000000000000000000000000000
00000000000000000000000000088000000330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ee000000bb00000088880000333300800000000000000000000000000000000000eeeeeee000000000000000000000000000000000000000000000
000000000800e0000300b000008ee800003bb3008800000080000080000000000080000000ee888888ee00000000000000000000000000000000000000000000
000000000800e0000300b00000888800003333008e8808008808008808008008008808008ee88000008ee0000000000000000000000000000000000000000000
000000000088000000330000008ee800003bb30008e88e08e88e08e88e08e08e08e88e0870e800000008e0000000000000000000000000000000000000000000
0000000000000ee000000bb000888800003333000088ee8708ee8ee8ee8ee80e8ee8ee8e88717ee0000080000000000000000000000000000000000000000000
00000000000008e0000003b0008ee800003bb30008e8e8ee8ee8ee88ee8e8e788e8e708ee111108e000000000000000000000000000000000000000000000000
0000000000800000003000000088880000333300807e8e8ee8ee8ee8e8eee8ee8ee8ee8ee7111000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000008ee8ee8e8ee88e807e8e88e8ee88e8eee1111000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000008e8e88e08ee8ee8ee8e78ee8e08ee8e871117ee000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000888e88788e88e88e8e088e88788e870e171880000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000008e8888888888888888888888888888888ee0000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000008e880880800880800800800880800808888ee00000e000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000880008000008000000000008000000080088eeeeee8000000000000000000000000000000000000000000000
00000000000000000000000000000000000000008000000000000000000000000000000000008888880000000000000000000000000000000000000000000000
__gff__
00070505050b0000000000000000000000210101010900000007050b00000000002100010009000000210109010101000013111111230000001311230101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
2315000000371123132323233333321323231423233332342314232323132333331223142314231312332323132313232333232323231223232323233334323313232323122323132323231223232323333233343313232313232323132323122323231323232323333314232313232323122323232323232313232333332323
2335000000002114232323350006003114232313350000003133343233323500003133333423232335003114232314233500313333333531333232350000000031122323232323232323132323231235000636000031142323353123232323232323332323231335000031332323333213232323353132122323133536003123
2500000000003123231415000000000031122335000000000000060008000000000000070031231205000031333233350000000036000000000006000000000000313334323334333432232313323500000000000000313335000031231223231335003133323500000000063135000031323335000000312314350000003821
13050000000001232323230500000000003123050000000000000000000000000000000000002123251c000000070000000000000b000a00000000000000000000000000000000360600312335000d00000001050000000800000000112323233500000007080000000000000000000000000800000000003135000000000011
12251c00000031332313232303040500000021251c00000000010202050001050000000000011323250000000000004b00193c3c1a2b2c3c1a1b00000000000009000000000000000000002105011a1b00002125000000000000000113232315000000000000000000000000000d000000000000000000000000000000003721
23350000160000063123232332323500000123350000000103122333230223230302030501142323350000010205000000393a2a3a2b3a3c3a2a1b00000103040204020403030405000038211323233b000021230500000105000031232314130500000000000000000000192a1a050103050000000105000000000105000011
23050000006c010303232335000800000011250000000123233235003134333234353133323334350000002123120500000000080000060000311405012312333a3a2c3a2b1a2323050000212323350000001123250000111500000011232323151d000000000000000000292c3e23323323050a0112130500000021151d0021
142500220000112323233500000000010323250000001123350000000000063600000000000700000000001123232500000000000000000000002123231335080006000007392c2335000021123500000001232315003721250000011213232325000000000000000000372a3e23350608312303231423251c00001125000021
23151d000000313333350000010302132323350000012315000000000000005b000000000000000000000123231335000001050000010500000031232315000000000c000000291500000021251c000001132323250000111500003123231223151c000000000000000000292315000000001123232323350000002135003811
12250016005b0008060000002123232323350000372113350000010304030500000105000000000001022314232500000021250000111305000000312323050000191a1b00002b150000012315000001142323122500003115000000212323233500000000000000000000292335000000003123232335000000001105000021
231500000000090000001700313531333500005b00313500000123333233350000312305000a010323232323232305003711151d00212315000000003123150000293c2b00002c350000112325000011232333343500000123050000313334350000000000000000000000313500000000000031231500000000012315000021
23350000170103030305000000000007000000000000000000212305000000000000112303032323333323232314350038113500001123350000000000112500002c2a2a00002905000031231500382123350000000000312315000000070600000000000000000000000000000000000000000123251d0001021323151c0011
15000000001123132315000000000000000000000c000009011323230403050000012123353133353600313332350000002105000021250000005b000021151c0029232b000029151c00002125003721150000000000000031230500000900000000000000000000000000000000000000000123231500003133231225000021
35004b0001132323233500000103050000192c1a2a3c3c02233335313334350000313335000000000000000008000000001135000011151c0000000000112500003912231b1913230500372135000011251c00010500000000212302030403020500000000000000000000010500000000012323233500000000312323050011
0500003721233531120500372123251c00293e2333342323350000000800000000000600000000004b000000000000000123050000212305000000000011150000002123122313232500002105000021250000112305000000313332333434232305000000000000000000211205000000212313350000000900001123130521
151c000031350000212500003123250000292335000031250000000000000000000a000000000105000000010204020433343500003114250000000000112500000031332323143435000021150000211500002123151d0000000000000000312315000000000000000037212315000000112325000000010500372123232314
25000000000000001125004b00211500003123050000011500000103020304050103040500001123050000312323133506000000000031250000000000211305000000003132350000003821250000112500371123250000000000000000000031230500000000000000002123151c0038212335000001133500001123122323
23050000000000012325000000212305000021150000313500002123123233343334333500003123150000012312250000000c0000000021050000000031121500000000000000000000002115000031350000212313050103050000010500000031250000000000000038212335000000111500000123150000012323142314
23230500000001232323050000312325000011250000000000001123350008063600000000000021250000312323150000191a2c1b00001115000000000031230500000000000000000001231500000000000011231332323313050021150000000011050a0000000000002135000a090123251c003123130501231235312323
132315000000312313233305000031230501231500005b0001032325000000000000000000000011150000001123150000393c3c2b003721250000000000003114040500000102040304132325000000000001232335000800312305211305000000312303020405000001230304030223233500000011231423233500002123
1531230500000021233536310500002112231325000001032323121500000103050001030500001135000000112335000000392a2a0000111500000105000000311323030414233334322323350000191a2c1323150000000001232323142305000000311323332303022323323334333235000000192c1a3c3e151d00001123
1500212305000031350000012500002123232335000011231323233500003123230323232305002105000000112305000000011a3b0000212500002113050000003133323433350008003135000000293c232313140500000123231223232335000000003135003132333335000706000000000000393a3c2b3c2a0000002123
151d3123230500000000003135000031333435000000312323143500000000313333353113250011151c00012313250000001123050038212500003112230500000000000000000000000000000000292333232323151c0011132323333235000000000000000000000000000000000000000000000000393a3a3b0000372123
1500003134350000000b000000000000060000000000002123350000284b0000000700003114052135000011232313050000312325000021150000003114230500000000000000010305000000000123350031232335000021231335080000000000000000000000000000000000000000010305000000003600000000001123
121b000007000000191a1b00004b0000000a00000000003135000017000000000c00000000313335000000112323122500000011150000212305000000212323030403020404031423230304020233350000003135000038112335000000000102030403021a2b1b0000000000000000012d2c1a1b000c000000000000192313
232b1b000000191a3c2a2b1b000001020302040500000001050000280000192a1a1b00000000060000000112132323350000001125000011231500000031333332323232132312232333323333350000000000000000000021150000000001232312333323133c2c2a1b191a1b000000112a293b392b1a2c1b000000002a2a2e
14233c2c3c2a3c3a3a3a3a3b00003112231323230500012313020500000031133d2b1b0000000000000031232323250000000123151d00312312050000000736000008003123232314350007000000000a0000000000000123251c0000012333333500003123233c3c1a3c3c2c1b0000312c2a4243392a3c2a1b000038292c3e
1413333a3a3a3b0636070000000000312323231423033333231223050000003112232305000001050000002114232500000123122500000123231305000a000000000000003112233500000000000001030305000001032314150000012335063600000001231423333a3a2b3a3b000038112b525300393a3a3b000000292b13
23350036080000000000000000000000313334333235070031353113050000001123123500002123055b0031333435000011232323050011232323120403020403020500000031350000000000010323333435000031333234350000313500000000000011231235000736000000000000312c1b000000070000000000393e23
150000000000090000010305000000000008003606000000000000312305000021233500000021233500000036070000001114232323052123132323232323232323350000000000000000000123123508000000000036070600000000000000010305011223130509000000000000000001232a1b000d0000000b0a00193e23
23050000010402040312232305000000000000000000090000000000212500012335000a0001231205000009000000000113231223132323232323231323231423350000090000000001030413231405000b000000000000000000000a00000113232314232323230402050104050001042314233c2b1a2a3c2c2a1a3c3e1413
14230203122323132323231323050102040302040302040304020302232303142304030203142323230204030203040323142323232323231423232323232323230302030204030402232323232323230304020304020501030302030203031423122323232323232323232323230323232323233d3c3c3c3c3e3d2b2b2c2323
